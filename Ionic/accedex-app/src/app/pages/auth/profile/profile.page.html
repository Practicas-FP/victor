<ion-header [translucent]="true">
  <ion-toolbar>
    <!-- Menu -->
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>

    <!-- Name -->
    <ion-title>Hi, <b>{{ authService.userData && authService.isLoggedIn ? authService.userData.displayName.split(' ')[0] : '' }}</b></ion-title>

    <!-- Btn Sing Out -->
    <ion-button color="danger" (click)="authService.SignOut()" slot="end" class="ion-padding-end">
      <ion-icon slot="start" ios="log-out-outline" md="log-out-sharp"></ion-icon>
      Sing Out
    </ion-button>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">

  <!-- No user found -->
  <div id="container" *ngIf="!authService.userData; else user">
    <ion-chip disable="true" color="danger">
      <ion-label>No user found</ion-label>
    </ion-chip>
  </div>

  <!-- User data -->
  <ng-template #user>

    <ion-list class="ion-padding-top">
      <ion-item>
        <ion-img style="max-width: 96px;" slot="start" [src]="photoService.photo || authService.userData.photoURL || 'https://via.placeholder.com/96x96.png?text=Profile+picture'" alt="Image profile"></ion-img>

        <ion-item-group>
          <ion-item lines="none">
            <ion-label>Name and email: </ion-label>
          </ion-item>
          <ion-label><b>{{ authService.userData.displayName }}</b></ion-label>
          <ion-label><b>{{ authService.userData.email }}</b></ion-label>

          <ion-item lines="none">
            <ion-label>User Id:</ion-label>
          </ion-item>
          <ion-label><b>{{ authService.userData.uid }}</b></ion-label>

          <ion-item>
            <ion-label>Email verified: <b>{{ authService.userData.emailVerified ? 'Yes' : 'No' }}</b></ion-label>
          </ion-item>
        </ion-item-group>

      </ion-item>
    </ion-list>

    <!-- Favorites -->
    <ion-button [routerLink]="'/favorites'" expand="block" fill="clear" shape="round">
      View favorites
    </ion-button>

    <!-- Take photo -->
    <ion-fab vertical="bottom" horizontal="center" slot="fixed" class="ion-padding">
      <ion-fab-button (click)="photoService.addNewToGallery()">
        <ion-icon name="camera"></ion-icon>
      </ion-fab-button>
    </ion-fab>

    <!-- Remove photo profile -->
    <ion-fab *ngIf="photoService.photo" vertical="bottom" horizontal="end" slot="fixed" (click)="photoService.deleteUserPhoto()">
      <ion-fab-button color="danger">
        <ion-icon name="close-outline"></ion-icon>
      </ion-fab-button>
    </ion-fab>
  </ng-template>
</ion-content>
